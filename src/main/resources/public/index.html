<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Javalin Stream</title>
</head>
<body>
    <img src="https://cataas.com/cat/says/hello_world" alt="Cat" style="max-height: 90vh">

    <script type="application/javascript">
        const evtSource = new EventSource("/sse-stream");

        evtSource.addEventListener("miau", (e) => {
            console.log(`Received message: ${e.data}`);
            document.querySelector("img").src =
                `https://cataas.com/cat/says/${e.data}?font=Comic%20Sans%20MS&fontSize=30&fontColor=%23ff0000`;
        });
    </script>
</body>
</html>
